
@{
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由亚萌智能表单代码生成工具生成。
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。除非此项目不再使用代码生成器生成。
//     如果想修改此文件的内容，请复制一份到此文件的上级目录进行修改
//
//     如有问题联系zongeasy@qq.com
//</auto-generated>
//------------------------------------------------------------------------------
    ViewBag.Title="新建广告";
}

<div region="center" border="true" style="padding: 10px; background: #FFFFFF; border: 1px solid #ccc;">
    <form id="myForm" name="myForm" action="/api/PortalIPS/Advertisement/Create" method="post">
        <table class="mytable"  cellpadding="1" width="100%" cellspacing="0" align="center">
<tr id="Container_Name"><td id="Label_Name" class="labeltd">名称：</td><td>&nbsp;
<input type="text" id="Name" name="Name" value="@(Model.Name)" class="easyui-validatebox textbox"  maxlength="50" style="width:200px" />
</td></tr>
<tr id="Container_Type"><td id="Label_Type" class="labeltd">类型：</td><td>&nbsp;
<select id="Type" name="Type" class="easyui-combobox"  style="width:200px">
    @Html.Raw(MyHtmlHelper2.ShowSelectOptions(ViewBag.DAL.NameValue_Type, Model.Type))
</select></td></tr>
<tr id="Container_Status"><td id="Label_Status" class="labeltd">状态：</td><td>&nbsp;
<select id="Status" name="Status" class="easyui-combobox"  style="width:200px">
    @Html.Raw(MyHtmlHelper2.ShowSelectOptions(ViewBag.DAL.NameValue_Status, Model.Status))
</select></td></tr>
<tr id="Container_Link"><td id="Label_Link" class="labeltd">链接地址：</td><td>&nbsp;
<input type="text" id="Link" name="Link" value="@(Model.Link)" class="easyui-validatebox textbox"  maxlength="500" style="width:200px" />
</td></tr>
<tr id="Container_Url"><td id="Label_Url" class="labeltd">图片：</td><td>&nbsp;
<input type="text" id="Url" name="Url" value="@(Model.Url)"   class="easyui-validatebox" style="width:200px"/>
<br/>
<input class="easyui-filebox" data-options="buttonText:'浏览',accept: 'image/*',buttonAlign:'left'" id="Upload_Url" name="Upload_Url" style="width: 200px;" />
<input class="easyui-linkbutton" type="button" id="btnUrl_Upload" name="btnUrl_Upload" value="上传" onclick="btnUrl_UploadClick()"/>
@if(!string.IsNullOrEmpty(Model.Url)){
 <br/><img id="Preview_Url" src="@(Model.Url)" style="height: 60px; "/>
}else{
 <br/><img id="Preview_Url" src="@(Model.Url)" style="height: 60px; display: none; "/>
 }
<script type="text/javascript">
    ///上传按钮事件
    function btnUrl_UploadClick(){
        jQuery("#myForm").ajaxSubmit( {
            type: 'post',
            dataType: 'text',
            url: "/api/SiteManage/UploadImage/Upload?FieldName=Url&UploadFieldName=Upload_Url&ModelID=Advertisement&ModuleID=PortalIPS",
            beforeSubmit: function(formData, jqForm, options) {
                var queryString = jQuery.param(formData);
                if( jQuery("Upload_Url").val()==""){
                    alert("请选择你要上传的图片！");
                }
                return true;
            },
            success: function(msg) {
                eval("var result="+msg);
                if(result.Status==1){
                    jQuery("#Url").val(result.returnValue);
                    alert("上传成功!");
                    $('#Upload_Url').filebox('clear');
                    $('#Preview_Url').attr('src',result.returnValue);
                }else{
                    alert(result.returnValue);
                }
            },
            error: function(error) {
            }
        });
    }
</script>
</td></tr>
<tr id="Container_Count"><td id="Label_Count" class="labeltd">内容：</td><td>&nbsp;
<textarea id="Count" name="Count" class="easyui-validatebox"  style="width:300px;height:50px">@(Model.Count)</textarea>
</td></tr>
<tr id="Container_Width"><td id="Label_Width" class="labeltd">宽度：</td><td>&nbsp;
<input type="text" id="Width" name="Width" value="@(Model.Width)" class="easyui-validatebox textbox"  maxlength="4" style="width:200px" />
</td></tr>
<tr id="Container_Height"><td id="Label_Height" class="labeltd">高度：</td><td>&nbsp;
<input type="text" id="Height" name="Height" value="@(Model.Height)" class="easyui-validatebox textbox"  maxlength="4" style="width:200px" />
</td></tr>
<tr id="Container_PositionLeft"><td id="Label_PositionLeft" class="labeltd">距左距离：</td><td>&nbsp;
<input type="text" id="PositionLeft" name="PositionLeft" value="@(Model.PositionLeft)" class="easyui-validatebox textbox"  maxlength="4" style="width:200px" />
</td></tr>
<tr id="Container_PositionTop"><td id="Label_PositionTop" class="labeltd">距顶距离：</td><td>&nbsp;
<input type="text" id="PositionTop" name="PositionTop" value="@(Model.PositionTop)" class="easyui-validatebox textbox"  maxlength="4" style="width:200px" />
</td></tr>
<tr id="Container_Velocity"><td id="Label_Velocity" class="labeltd">浮动速度：</td><td>&nbsp;
<input type="text" id="Velocity" name="Velocity" value="@(Model.Velocity)" class="easyui-validatebox textbox"  maxlength="4" style="width:200px" />
</td></tr>
<input type="hidden" id="ID"  name="ID" value="@(Model.ID)"/><input type="hidden" id="CityID"  name="CityID" value="@(Model.CityID)"/>
</table>

        @RenderPage("~/Areas/PortalIPS/Views/Advertisement/Extend/Model_FormHtml.cshtml")
    </form>
</div>
<div region="south" border="false" style="text-align: right; background: #F6F6F6;height: 30px; line-height: 30px;">
    <a id="btnSubmit" class="easyui-linkbutton" icon="icon-ok" href="javascript:void(0)">确定</a>
    <a id="btnCancel" class="easyui-linkbutton" icon="icon-cancel" href="javascript:CloseDialog();">
        取消
    </a>
</div>
@section scripts{
    <script src="/Resources/JsLib/jquery.form.js"></script>
    <script src="/Resources/JsLib/My97DatePicker/WdatePicker.js"></script>
    <script src="/Static/v1/js/Utils.js"></script>
    <script src="/Static/v1/js/form.js"></script>
    <script type="text/javascript">
        jQuery(function() {
            CheckConditions();
function CheckConditions(){
jQuery('fieldset').show(); 
jQuery("fieldset").each(function(){ 
if(jQuery('tr',this).length>0){
if(jQuery('tr:visible',this).length>0){jQuery(this).show()} else{jQuery(this).hide()}
}
});
}
;
        });
    </script>
    @RenderPage("~/Areas/PortalIPS/Views/Advertisement/Extend/Model_FormJs.cshtml")
}

